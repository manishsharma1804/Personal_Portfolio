<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="logo/favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="logo/favicon/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="logo/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="192x192" href="logo/favicon/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="logo/favicon/android-chrome-512x512.png">
    <link rel="apple-touch-icon" sizes="180x180" href="logo/favicon/apple-touch-icon.png">
    <link rel="manifest" href="manifest/site.webmanifest">
    <meta name="description" content="Portfolio Admin Panel">
    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="css/admindark.css">
    <link rel="stylesheet" href="css/loginpage.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <meta name="theme-color" content="#1a1a1a" media="(prefers-color-scheme: dark)">
    <style>
        /* Binary Flow Background */
        .code-background {
            opacity: 0.1 !important;
        }

        /* Widget Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .modal-content {
            background: var(--background-color);
            padding: 2rem;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
            margin: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-header h3 {
            margin: 0;
            color: var(--text-color);
        }

        .close {
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
        }

        .close:hover {
            opacity: 0.8;
        }

        /* Section Header Styles */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .section-header h2 {
            margin: 0;
            font-size: 1.5rem;
        }

        /* Fix button sizes across all sections */
        .btn.primary {
            min-width: auto;
            width: auto;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 1rem;
        }

        .form-actions .btn {
            min-width: auto;
            width: auto;
            padding: 0.5rem 1rem;
        }

        /* Exception for login and forgot password buttons */
        #loginForm .btn.primary,
        .forgot-password-content .btn.primary {
            width: 100%;
            padding: 0.75rem;
        }

        /* Forgot Password Modal Styles */
        .forgot-password-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .forgot-password-content {
            background: rgba(33, 37, 41, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            width: 90%;
            max-width: 400px;
            position: relative;
            padding: 2rem;
            border-radius: 8px;
            animation: slideDown 0.3s ease-out;
            margin: 0 auto;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Light mode styles for forgot password modal */
        [data-theme="light"] .forgot-password-content {
            background: #ffffff;
            color: #333333;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        [data-theme="light"] .forgot-password-content h2 {
            color: #333333;
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 1.8rem;
        }

        /* Close button styles for both modes */
        .forgot-password-content .close {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 28px;
            font-weight: normal;
            cursor: pointer;
            background: none;
            border: none;
            line-height: 1;
            padding: 0;
            transition: all 0.3s ease;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            color: white;
        }

        .forgot-password-content .close:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Light mode close button */
        [data-theme="light"] .forgot-password-content .close {
            color: #666666;
        }

        [data-theme="light"] .forgot-password-content .close:hover {
            background-color: rgba(0, 0, 0, 0.05);
            color: #333333;
        }

        [data-theme="light"] .forgot-password-content .input-group {
            background-color: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 1rem;
            position: relative;
        }

        [data-theme="light"] .forgot-password-content .input-group input {
            background-color: transparent;
            color: #333333;
            border: none;
            width: 100%;
            padding: 1rem 2.5rem 1rem 3rem;
            font-size: 1rem;
        }

        [data-theme="light"] .forgot-password-content .input-group input::placeholder {
            color: #666666;
        }

        [data-theme="light"] .forgot-password-content .input-group i {
            color: #666666;
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
        }

        [data-theme="light"] .forgot-password-content .btn.primary {
            background: linear-gradient(45deg, #4169E1, #5c85ff);
            color: white;
            border: none;
            padding: 1rem;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        [data-theme="light"] .forgot-password-content .btn.primary:hover {
            background: linear-gradient(45deg, #5c85ff, #4169E1);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(65, 105, 225, 0.3);
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            background: #fff;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 9999;
            transform: translateX(120%);
            transition: transform 0.3s ease-in-out;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left: 4px solid #4CAF50;
        }

        .notification.error {
            border-left: 4px solid #f44336;
        }

        .notification-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification i {
            font-size: 1.2rem;
        }

        .notification.success i {
            color: #4CAF50;
        }

        .notification.error i {
            color: #f44336;
        }

        /* Message Section Styles */
        .messages-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message-item {
            background: var(--background-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            transition: all 0.3s ease;
        }

        .message-item:hover {
            transform: translateX(5px);
            border-left: 3px solid #4169E1;
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }

        .sender-info {
            flex: 1;
        }

        .sender-info h4 {
            margin: 0;
            color: var(--text-color);
            font-size: 1rem;
        }

        .sender-info p {
            margin: 0;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .message-date {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .message-content {
            margin: 0.5rem 0;
        }

        .message-content p {
            margin: 0;
            font-size: 0.9rem;
            line-height: 1.4;
            color: var(--text-color);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .message-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
            justify-content: flex-end;
        }

        .message-actions .btn-icon {
            padding: 0.3rem;
            font-size: 0.9rem;
        }

        .message-unread {
            background: rgba(65, 105, 225, 0.1);
        }

        .message-unread::before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #4169E1;
            border-radius: 50%;
            position: absolute;
            top: 1rem;
            right: 1rem;
        }

        /* Dashboard Message Stats */
        .stat-card .stat-details {
            display: flex;
            gap: 0.5rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }

        .stat-card .stat-details span {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        #passwordResetModal .modal-content {
            background: rgba(33, 37, 41, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            width: 90%;
            max-width: 400px;
            position: relative;
            padding: 2rem;
            border-radius: 8px;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        #passwordResetModal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #passwordResetModal.show {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Message styles for light mode */
        [data-theme="light"] #messageContainer {
            color: #333333;
        }

        [data-theme="light"] .alert {
            background: #ffffff;
            color: #333333;
            border: 1px solid #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            font-size: 1.1rem;
            padding: 12px 20px;
        }

        [data-theme="light"] .alert.error {
            background-color: #fff2f2;
            border-left: 4px solid #f44336;
            color: #333333;
        }

        [data-theme="light"] .alert.success {
            background-color: #f0fff0;
            border-left: 4px solid #4CAF50;
            color: #333333;
        }

        /* Access Denied and other error messages */
        [data-theme="light"] div[style*="opacity: 1"] {
            color: #333333 !important;
            font-size: 1.5rem !important;
            margin-bottom: 1rem !important;
        }

        [data-theme="light"] div[style*="font-size: 1.1rem"] {
            color: #333333 !important;
        }

        #passwordResetModal h2 {
            color: white;
            font-size: 1.8rem;
            text-align: center;
            margin-bottom: 25px;
        }

        [data-theme="light"] #passwordResetModal h2 {
            color: #333333;
        }

        /* Light mode styles for forgot password modal */
        [data-theme="light"] .forgot-password-content {
            background: #ffffff;
            color: #333333;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        [data-theme="light"] .forgot-password-content h2 {
            color: #333333;
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 1.8rem;
        }

        [data-theme="light"] #passwordResetModal .input-group {
            background-color: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 1rem;
            position: relative;
        }

        [data-theme="light"] #passwordResetModal .input-group input {
            background-color: transparent;
            color: #333333;
            border: none;
            width: 100%;
            padding: 1rem 2.5rem 1rem 3rem;
            font-size: 1rem;
        }

        [data-theme="light"] #passwordResetModal .input-group input::placeholder {
            color: #666666;
        }

        [data-theme="light"] #passwordResetModal .input-group i {
            color: #666666;
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
        }

        [data-theme="light"] #passwordResetModal h2 {
            color: #333333;
            font-size: 1.8rem;
            text-align: center;
            margin-bottom: 25px;
        }

        #passwordResetModal .close {
            color: rgba(255, 255, 255, 0.8);
            transition: color 0.3s ease;
        }

        [data-theme="light"] #passwordResetModal .close {
            color: #666666;
        }

        [data-theme="light"] #passwordResetModal .close:hover {
            color: #333333;
        }

        .input-group input[type="password"] {
            -webkit-text-security: disc;
            font-family: text-security-disc;
            letter-spacing: 2px;
        }

        @supports (-webkit-text-security: disc) {
            .input-group input[type="password"] {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
                -webkit-text-security: disc;
                letter-spacing: 2px;
            }
        }

        /* Password field in light mode */
        [data-theme="light"] .input-group input[type="password"] {
            -webkit-text-security: disc;
            letter-spacing: 2px;
            color: #333333;
        }

        /* When password is visible */
        .input-group input[type="text"].password-visible {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
            letter-spacing: normal;
        }

        .login-logo {
            text-align: center;
            margin-bottom: 1rem;
        }

        .login-logo img {
            height: 100px;
            width: auto;
        }

        /* Notification Styles */
        .notification-wrapper {
            position: relative;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff4b4b;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.2);
                opacity: 0.8;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .notification-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            width: 320px;
            background: var(--background-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            max-height: 400px;
            overflow-y: auto;
        }

        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .notification-header h3 {
            margin: 0;
            font-size: 1rem;
        }

        .notification-list {
            padding: 0.5rem;
        }

        .notification-item {
            padding: 0.75rem;
            border-radius: 6px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }

        .notification-item:hover {
            background-color: var(--hover-color);
        }

        .notification-item.unread {
            background-color: rgba(65, 105, 225, 0.1);
        }

        .notification-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-weight: 500;
            margin-bottom: 0.25rem;
            color: var(--text-color);
        }

        .notification-message {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }

        .notification-time {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .notification-footer {
            padding: 0.75rem;
            text-align: center;
            border-top: 1px solid var(--border-color);
        }

        .notification-footer .btn-link {
            color: var(--primary-color);
            text-decoration: none;
            font-size: 0.875rem;
        }

        .notification-footer .btn-link:hover {
            text-decoration: underline;
        }

        /* Light mode specific styles */
        [data-theme="light"] .notification-dropdown {
            background: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        [data-theme="light"] .notification-item.unread {
            background-color: rgba(65, 105, 225, 0.05);
        }

        [data-theme="light"] #passwordResetModal .close:hover {
            color: #333333;
        }

        /* Initial Loader Styles */
        .loader-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: var(--background-color);
            z-index: 99999;
            transition: opacity 0.5s ease-out;
        }

        .loader {
            width: 180px;
            height: 180px;
            position: relative;
            animation: pulse 1.5s ease-in-out infinite;
        }

        .loader img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            filter: brightness(0);
            transition: filter 0.3s ease;
        }

        [data-theme="dark"] .loader-container {
            background: var(--dark-gradient);
        }

        [data-theme="dark"] .loader img {
            filter: brightness(100);
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.2);
                opacity: 0.5;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Hide login form initially */
        #loginForm {
            opacity: 0;
        }
    </style>
</head>
<body>
    <!-- Loader -->
    <div class="loader-container">
        <div class="loader">
            <img src="logo/logo.png" alt="Loading...">
        </div>
    </div>

    <!-- Login Form -->
    <div id="loginForm" class="login-container">
        <div class="code-background"></div>
        <div class="login-box">
            <div class="login-logo">
                <a href="index.html" class="login-logo-link">
                    <img src="logo/logo.png" alt="Logo" class="login-logo">
                </a>
            </div>
            <form id="adminLoginForm">
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="email" id="adminEmail" placeholder="Email" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="adminPassword" placeholder="Password" required>
                    <i class="fas fa-eye-slash toggle-password" onclick="togglePassword()"></i>
                </div>
                <button type="submit" class="btn primary">Login</button>
                <div class="forgot-password">
                    <a href="#" onclick="showPasswordResetModal(event)">Forgot Password?</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Password Reset Modal -->
    <div id="passwordResetModal" class="forgot-password-modal" style="display: none;">
        <div class="forgot-password-content">
            <span class="close" onclick="closePasswordResetModal()">&times;</span>
            <h2>Reset Password</h2>
            <form id="passwordResetForm">
                <div class="input-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="resetEmail" placeholder="Enter your email" required>
                </div>
                <button type="submit" class="btn primary">Send Reset Link</button>
            </form>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="adminDashboard" class="dashboard-container" style="display: none;">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="https://ui-avatars.com/api/?name=Manish+Sharma&background=4169E1&color=fff" alt="Admin" class="admin-avatar">
                <div class="admin-info">
                    <h3>Manish Sharma</h3>
                    <p>Administrator</p>
                </div>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li>
                        <button onclick="showSection('dashboard')" class="nav-item active">
                            <i class="fas fa-home"></i>
                            <span>Dashboard</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('profile')" class="nav-item">
                            <i class="fas fa-user"></i>
                            <span>Profile</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('about')" class="nav-item">
                            <i class="fas fa-info-circle"></i>
                            <span>About</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('experience')" class="nav-item">
                            <i class="fas fa-briefcase"></i>
                            <span>Experience</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('skills')" class="nav-item">
                            <i class="fas fa-code"></i>
                            <span>Skills</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('certifications')" class="nav-item">
                            <i class="fas fa-certificate"></i>
                            <span>Certifications</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('projects')" class="nav-item">
                            <i class="fas fa-project-diagram"></i>
                            <span>Projects</span>
                        </button>
                    </li>
                    <li> 
                        <button onclick="showSection('blog')" class="nav-item">
                            <i class="fas fa-blog"></i>
                            <span>Blog</span>
                        </button>
                    </li>
                    <li>
                    </li>
                    <li>
                        <button onclick="showSection('messages')" class="nav-item">
                            <i class="fas fa-envelope"></i>
                            <span>Messages</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('settings')" class="nav-item">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </button>
                    </li>
                    <li>
                        <button id="sidebarThemeToggle" class="nav-item">
                            <i class="fas fa-moon"></i>
                            <span>Toggle Theme</span>
                        </button>
                    </li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <button onclick="logout()" class="btn-logout">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Bar -->
            <div class="top-bar">
                <button id="sidebarToggle" class="sidebar-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <a href="index.html" class="nav-logo">
                    <img src="logo/logo.png" alt="Logo">
                </a>
                <div class="breadcrumb">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </div>
                <div class="top-bar-actions">
                    <div class="notification-wrapper">
                        <button class="btn-icon" id="notificationBtn" title="Notifications">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge" style="display: none;">0</span>
                        </button>
                        <div class="notification-dropdown" style="display: none;">
                            <div class="notification-header">
                                <h3>Notifications</h3>
                                <button class="btn-icon" onclick="markAllNotificationsAsRead()">
                                    <i class="fas fa-check-double"></i>
                                </button>
                            </div>
                            <div class="notification-list">
                                <!-- Notifications will be dynamically added here -->
                            </div>
                            <div class="notification-footer">
                                <button class="btn-link" onclick="viewAllNotifications()">View All</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Sections -->
            <div class="content-wrapper">
                <!-- Dashboard Section -->
                <section id="dashboardSection" class="content-section">
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <i class="fas fa-project-diagram"></i>
                            <div class="stat-info">
                                <h3>Projects</h3>
                                <p id="projectCount">0</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-blog"></i>
                            <div class="stat-info">
                                <h3>Blog Posts</h3>
                                <p id="blogCount">0</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-envelope"></i>
                            <div class="stat-info">
                                <h3>Messages</h3>
                                <p id="messageCount">0</p>
                                <div class="stat-details">
                                    <span><i class="fas fa-envelope"></i> <span id="unreadCount">0</span> unread</span>
                                </div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-eye"></i>
                            <div class="stat-info">
                                <h3>Views</h3>
                                <p id="viewCount">0</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Profile Section -->
                <section id="profileSection" class="content-section">
                    <div class="section-header">
                        <h2>Profile</h2>
                    </div>
                    <form id="profileForm" class="edit-form" style="display: none;">
                        <div class="profile-image-container">
                            <img id="profilePreview" src="https://ui-avatars.com/api/?name=Admin&background=4169E1&color=fff" alt="Profile Preview">
                        </div>
                        
                        <div class="form-group">
                            <label>Name</label>
                            <input type="text" id="profileName" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Profile Image URL (Google Drive)</label>
                            <input type="url" id="profileImageUrl" class="form-control" placeholder="Enter Google Drive sharing link">
                            <small class="form-text text-muted">Make sure the Google Drive link is publicly accessible</small>
                        </div>
                        
                        <div class="form-group">
                            <label>Resume URL (Google Drive)</label>
                            <input type="url" id="profileResumeUrl" class="form-control" placeholder="Enter Google Drive sharing link">
                            <small class="form-text text-muted">Make sure the Google Drive link is publicly accessible</small>
                            <div class="resume-preview">
                                <a href="#" id="viewResumeBtn" class="btn secondary" target="_blank" style="display: none;">
                                    <i class="fas fa-file-pdf"></i> View Resume
                                </a>
                                <span id="resumeFileName">No file chosen</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Titles</label>
                            <div id="titlesList"></div>
                            <button type="button" class="btn secondary" onclick="addTitleField()">
                                <i class="fas fa-plus"></i> Add Title
                            </button>
                        </div>
                        
                        <div class="form-group">
                            <label>Company/Organization</label>
                            <input type="text" id="profileCompany" class="form-control" placeholder="Enter your company/organization name">
                        </div>
                        
                        <div class="form-group">
                            <label>Social Links</label>
                            <div id="socialLinks"></div>
                            <button type="button" class="btn secondary" onclick="addSocialLinkField()">
                                <i class="fas fa-plus"></i> Add Social Link
                            </button>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn primary">Save Changes</button>
                            <button type="button" class="btn" onclick="cancelProfileEdit()">Cancel</button>
                        </div>
                    </form>
                </section>

                <!-- About Section -->
                <section id="aboutSection" class="content-section">
                    <div class="section-header">
                        <h2>About</h2>
                    </div>
                    <form style="display: none;">
                        <div class="form-group">
                            <label>About Me</label>
                            <div class="rich-text-editor" id="aboutEditor" contenteditable="true"></div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn primary">Save Changes</button>
                            <button type="button" class="btn" onclick="cancelAboutEdit()">Cancel</button>
                        </div>
                    </form>
                </section>

                <!-- Experience Section -->
                <section id="experienceSection" class="content-section" style="display: none;">
                    <div class="section-header">
                        <h2>Experience</h2>
                        <button class="btn primary" onclick="addNewExperience()">
                            <i class="fas fa-plus"></i> Add Experience
                        </button>
                    </div>
                    <div id="experienceList" class="items-list">
                        <!-- Experience items will be loaded dynamically -->
                    </div>
                    <form id="experienceForm" class="edit-form" style="display: none;">
                        <div class="form-group">
                            <label>Title</label>
                            <input type="text" id="experienceTitle" required>
                        </div>
                        <div class="form-group">
                            <label>Company</label>
                            <input type="text" id="experienceCompany" required>
                        </div>
                        <div class="form-group">
                            <label>Period</label>
                            <div class="date-range">
                                <input type="month" id="experienceStart" required>
                                <span>to</span>
                                <input type="month" id="experienceEnd">
                                <label>
                                    <input type="checkbox" id="experienceCurrent">
                                    Current
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <textarea id="experienceDescription" rows="4" required></textarea>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn primary">Save Experience</button>
                            <button type="button" class="btn secondary" onclick="cancelExperience()">Cancel</button>
                        </div>
                    </form>
                </section>

                <!-- Projects Section -->
                <section id="projectsSection" class="content-section" style="display: none;">
                    <div class="section-header">
                        <h2>Projects</h2>
                        <button class="btn primary" onclick="addNewProject()">Add Project</button>
                    </div>
                    <div id="projectsList">
                        <!-- Project items will be loaded dynamically -->
                    </div>
                </section>

                <!-- Blog Section -->
                <section id="blogSection" class="content-section" style="display: none;">
                    <div class="section-header">
                        <h2>Blog Posts</h2>
                        <button class="btn primary" onclick="addNewBlogPost()">Add Post</button>
                    </div>
                    <div id="blogList">
                        <!-- Blog posts will be loaded dynamically -->
                    </div>
                </section>

                <!-- Messages Section -->
                <section id="messagesSection" class="content-section" style="display: none;">
                    <!-- The content of this section will be dynamically populated by loadMessagesSection() -->
                </section>

                <!-- Settings Section -->
                <section id="settingsSection" class="content-section" style="display: none;">
                    <div class="section-header">
                        <h2>Settings</h2>
                    </div>
                    <form id="settingsForm" class="settings-form">
                        <div class="form-group">
                            <label>Site Title</label>
                            <input type="text" id="siteTitle" value="Manish Sharma - Portfolio">
                        </div>
                        <div class="form-group">
                            <label>Theme Color</label>
                            <input type="color" id="themeColor" value="#4169E1">
                        </div>
                        <div class="form-group">
                            <label>Email Notifications</label>
                            <div class="checkbox-group">
                                <label>
                                    <input type="checkbox" id="notifyMessages" checked>
                                    New Messages
                                </label>
                                <label>
                                    <input type="checkbox" id="notifyComments">
                                    Blog Comments
                                </label>
                            </div>
                        </div>
                        <button type="submit" class="btn primary">Save Settings</button>
                    </form>
                </section>

                <!-- Skills Section -->
                <section id="skillsSection" class="content-section" style="display: none;">
                    <div class="section-header">
                        <h2>Skills</h2>
                        <button class="btn primary" onclick="showAddSkillCategoryDialog()">
                            <i class="fas fa-plus"></i> Add Category
                        </button>
                    </div>
                    <div id="skillsDisplay" class="skills-categories">
                        <!-- Skills will be loaded dynamically -->
                    </div>
                    <form id="skillsForm" class="edit-form" style="display: none;">
                        <div id="skillCategories" class="skill-categories-edit">
                            <!-- Skill categories will be added here -->
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn primary">Save Changes</button>
                            <button type="button" class="btn secondary" onclick="cancelSkillsEdit()">Cancel</button>
                        </div>
                    </form>
                </section>

                <!-- Skill Category Modal -->
                <div id="skillCategoryModal" class="modal" style="display: none;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Add Category</h3>
                            <button class="close" onclick="closeModal('skillCategoryModal')">&times;</button>
                        </div>
                        <form id="skillCategoryForm">
                            <div class="form-group">
                                <label>Category Name</label>
                                <input type="text" id="categoryName" required placeholder="e.g., Programming Languages, Frameworks, etc.">
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn primary">Save Category</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Certifications Section -->
                <section id="certificationsSection" class="content-section" style="display: none;">
                    <div class="section-header">
                        <h2>Certifications</h2>
                        <button class="btn primary" onclick="addNewCertification()">Add Certification</button>
                    </div>
                    
                    <!-- Certifications Display -->
                    <div id="certificationsDisplay">
                        <div id="certificationsList">
                            <!-- Certifications will be loaded dynamically -->
                        </div>
                    </div>

                    <!-- Certifications Form -->
                    <div id="certificationsForm" style="display: none;">
                        <form id="certificationForm" class="edit-form">
                            <div class="form-group">
                                <label for="certificationTitle">Certification Title</label>
                                <input type="text" id="certificationTitle" required placeholder="e.g., AWS Solutions Architect">
                            </div>

                            <div class="form-group">
                                <label for="certificationOrg">Issuing Organization</label>
                                <input type="text" id="certificationOrg" required placeholder="e.g., Amazon Web Services">
                            </div>

                            <div class="form-group">
                                <label for="certificationDate">Issue Date</label>
                                <input type="month" id="certificationDate" required>
                            </div>

                            <div class="form-group">
                                <label for="certificationExpiry">Expiry Date</label>
                                <input type="month" id="certificationExpiry">
                            </div>

                            <div class="form-group">
                                <label for="certificationId">Certification ID</label>
                                <input type="text" id="certificationId" placeholder="e.g., ABC123XYZ">
                            </div>

                            <div class="form-group">
                                <label for="certificationUrl">Credential URL</label>
                                <input type="url" id="certificationUrl" placeholder="Enter credential URL">
                            </div>

                            <div class="form-group">
                                <label for="certificationSkills">Skills (comma separated)</label>
                                <input type="text" id="certificationSkills" placeholder="e.g., JavaScript, React, Node.js">
                            </div>

                            <div class="form-group">
                                <label>Files (Images & PDFs)</label>
                                <div id="fileLinks" class="file-links-container"></div>
                                <button type="button" class="btn secondary" onclick="addFileLink()">Add File Link</button>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="btn primary">Save Certification</button>
                                <button type="button" class="btn secondary" onclick="cancelCertification()">Cancel</button>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- Blog Comments Section -->
                <div id="blogCommentsSection" class="content-section">
                    <div class="breadcrumb">
                        <span>Blog Comments</span>
                    </div>
                    <div class="section-content">
                        <div id="blogCommentsList" class="comments-list">
                            <!-- Comments will be loaded here dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Custom JS -->
    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/admin.js"></script>
    <script type="module" src="js/password-reset.js"></script>
    <script type="module">
        import { loadSkills, updateSkills } from './js/firebase-config.js';
        
        // Expose necessary functions to window object
        window.loadSkills = loadSkills;
        window.updateSkills = updateSkills;
    </script>
    <script>
        // Notification/Toast function
        function showToast(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Trigger animation
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }

        // Theme Detection and Switching
        function detectAndSetTheme() {
            const htmlElement = document.documentElement;
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            // Set theme based on system preference
            const theme = prefersDark ? 'dark' : 'light';
            htmlElement.setAttribute('data-theme', theme);
            
            // Update logo based on theme
            const logo = document.querySelector('.login-logo');
            if (logo) {
                logo.style.filter = theme === 'light' ? 'brightness(0)' : 'none';
            }
        }

        // Listen for system theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', detectAndSetTheme);

        // Initial theme detection
        detectAndSetTheme();

        // Skill Category Modal Functions
        function showAddSkillCategoryDialog() {
            document.getElementById('skillCategoryModal').style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Add event listener for skill category form
        document.getElementById('skillCategoryForm').addEventListener('submit', async function(event) {
            event.preventDefault();
            const categoryName = document.getElementById('categoryName').value;
            
            if (!categoryName) {
                showToast('Please enter a category name', 'error');
                return;
            }
            
            try {
                const skillsData = await window.loadSkills() || [];
                
                if (skillsData.some(cat => cat.name === categoryName)) {
                    showToast('A category with this name already exists', 'error');
                    return;
                }
                
                skillsData.push({
                    name: categoryName,
                    skills: []
                });
                
                await window.updateSkills(skillsData);
                closeModal('skillCategoryModal');
                document.getElementById('categoryName').value = '';
                
                // Update the skills display immediately
                const skillsDisplay = document.getElementById('skillsDisplay');
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'skill-category';
                categoryDiv.innerHTML = `
                    <div class="skill-category-header">
                        <h3>${categoryName}</h3>
                        <div class="category-actions">
                            <button onclick="editSkillCategory('${categoryName}')" class="btn-icon" title="Edit Category">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deleteSkillCategory('${categoryName}')" class="btn-icon" title="Delete Category">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="skills-list"></div>
                `;
                skillsDisplay.appendChild(categoryDiv);
                
                // Show success notification with instruction
                showToast('Skill category added successfully! Click on edit category to add skills.', 'success');
                
            } catch (error) {
                console.error('Error adding category:', error);
                showToast('Failed to add category', 'error');
            }
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        // Password Reset Modal Functions
        function showPasswordResetModal(event) {
            event.preventDefault();
            const modal = document.getElementById('passwordResetModal');
            modal.style.display = 'flex';
            modal.classList.add('show');
        }

        function closePasswordResetModal() {
            const modal = document.getElementById('passwordResetModal');
            modal.style.display = 'none';
            modal.classList.remove('show');
            // Clear the input field
            document.getElementById('resetEmail').value = '';
        }

        // Handle password reset form submission
        document.getElementById('passwordResetForm').addEventListener('submit', async function(event) {
            event.preventDefault();
            const email = document.getElementById('resetEmail').value;
            
            try {
                const { sendPasswordReset } = await import('./js/password-reset.js');
                await sendPasswordReset(email);
                closePasswordResetModal();
            } catch (error) {
                console.error('Error:', error);
            }
        });

        // Password visibility toggle function
        function togglePassword() {
            const passwordInput = document.getElementById('adminPassword');
            const toggleIcon = document.querySelector('.toggle-password');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                passwordInput.classList.add('password-visible');
                toggleIcon.classList.remove('fa-eye-slash');
                toggleIcon.classList.add('fa-eye');
            } else {
                passwordInput.type = 'password';
                passwordInput.classList.remove('password-visible');
                toggleIcon.classList.remove('fa-eye');
                toggleIcon.classList.add('fa-eye-slash');
            }
        }
    </script>
    <script>
        // Initial Loader Handler
        document.addEventListener('DOMContentLoaded', function() {
            const loaderContainer = document.querySelector('.loader-container');
            const loginForm = document.getElementById('loginForm');
            
            // Hide loader and show login form when page is loaded
            window.addEventListener('load', function() {
                setTimeout(() => {
                    loaderContainer.style.opacity = '0';
                    loaderContainer.style.pointerEvents = 'none';
                    loginForm.style.opacity = '1';
                    setTimeout(() => {
                        loaderContainer.style.display = 'none';
                    }, 500);
                }, 1000); // Show loader for at least 1 second
            });

            // Show login form with opacity transition
            loginForm.style.opacity = '0';
            loginForm.style.transition = 'opacity 0.5s ease-out';
        });
    </script>
</body>
</html> 